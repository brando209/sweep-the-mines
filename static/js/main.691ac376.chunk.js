(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(10),i=n.n(r),o=(n(15),n(3)),l=n.p+"static/media/logo.6ce24c58.svg",u=(n(16),n(2)),s=n(8),f=n(0),d=["name","label","children","onSelect"];function b(e){var t=e.name,n=e.label,c=e.children,a=e.onSelect,r=Object(s.a)(e,d);return Object(f.jsxs)("div",Object(u.a)(Object(u.a)({},r),{},{children:[Object(f.jsx)("label",{htmlFor:t,children:n}),Object(f.jsx)("select",{name:t,onChange:function(e){return a(e.target.value)},children:c})]}))}var j=n(5),v=(n(18),["value","display","onClick"]);function O(e){var t=e.value,n=e.display,c=void 0===n?"":n,a=e.onClick,r=Object(s.a)(e,v),i=null;return i="string"===typeof c||"number"===typeof c?c:Object(f.jsx)("img",{src:c.src,alt:""}),Object(f.jsx)("div",Object(u.a)(Object(u.a)({className:"cell ".concat(t),onClick:function(){a("left")},onContextMenu:function(e){e.preventDefault(),a("right")},"data-testid":"cell-element"},r),{},{children:i}))}var h=n(4),m="easy",p="medium",y="hard",g="unselected",x="selected",k="flagged",N="bombed",w=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],C=function(e){for(var t,n,c=function(e){return"hard"===e?20:"medium"===e?15:10}(e),a=function(e){return e===m?15:e===p?40:e===y?60:void 0}(e),r=S(a,c),i=[],o=function(e){t=r.filter((function(t){return t.x===e}));for(var a=[],o=function(e){n=!!t.find((function(t){return t.y===e})),a.push({value:g,isBomb:n})},l=0;l<c;l++)o(l);i.push(a)},l=0;l<c;l++)o(l);return i},M=function(e,t,n){if(e[t][n].isBomb)return e[t]=Object(j.a)(e[t]),e[t][n]=Object(u.a)(Object(u.a)({},e[t][n]),{},{value:x+" "+N}),e;var c=[];c.push([t,n]);var a=new Map;a.set("(".concat(t,",").concat(n,")"),!0);for(var r=function(){var t=c.shift(),n=Object(o.a)(t,2),r=n[0],i=n[1],l=function(e,t,n){var c=0;return w.forEach((function(a){e[t+a[0]]&&e[t+a[0]][n+a[1]]&&e[t+a[0]][n+a[1]].isBomb&&c++})),c}(e,r,i);e[r]=Object(j.a)(e[r]),l>0?e[r][i]=Object(u.a)(Object(u.a)({},e[r][i]),{},{value:"selected",display:l}):(e[r][i]=Object(u.a)(Object(u.a)({},e[r][i]),{},{value:"selected",display:" "}),function(e,t,n){var c,a=[],r=Object(h.a)(w);try{for(r.s();!(c=r.n()).done;){var i=c.value,o=t+i[0],l=n+i[1];o>=0&&o<e&&l>=0&&l<e&&a.push([o,l])}}catch(u){r.e(u)}finally{r.f()}return a}(e.length,r,i).forEach((function(e){"selected"===e.value||a.has("(".concat(e[0],",").concat(e[1],")"))||(c.push(e),a.set("(".concat(r,",").concat(i,")"),!0))})))};c.length>0;)r();return e},S=function(e,t){if(e>t*t||e<=0)return[];for(var n=new Map,c=[];c.length<e;){var a=void 0,r=void 0;do{a=Math.floor(Math.random()*t),r=Math.floor(Math.random()*t),n.has("(".concat(a,",").concat(r,")"))||(n.set("(".concat(a,",").concat(r,")"),!0),c.push({x:a,y:r}))}while(!n.has("(".concat(a,",").concat(r,")")))}return c.sort((function(e,t){return e.x===t.x?e.y>t.y?-1:1:e.x>t.x?-1:1})),c},B=(n(19),n.p+"static/media/bomb.f525e4e1.png"),E=n.p+"static/media/blue-flag.ccbeceae.png";function D(e){var t=e.gridDifficulty,n=e.resetToggle,a=e.onGameOver,r=Object(c.useState)(C(t)),i=Object(o.a)(r,2),l=i[0],s=i[1],d=Object(c.useState)(!1),b=Object(o.a)(d,2),v=b[0],m=b[1];Object(c.useEffect)((function(){(function(e){var t,n=!0,c=Object(h.a)(e);try{for(c.s();!(t=c.n()).done;){var a,r=t.value,i=Object(h.a)(r);try{for(i.s();!(a=i.n()).done;){var o,l=a.value,u=l.value.split(" "),s=Object(h.a)(u);try{for(s.s();!(o=s.n()).done;){var f=o.value;if(f===g||f===k&&!1===l.isBomb){n=!1;break}}}catch(d){s.e(d)}finally{s.f()}if(!n)break}}catch(d){i.e(d)}finally{i.f()}if(!n)break}}catch(d){c.e(d)}finally{c.f()}return n})(l)&&a(!0),function(e){var t,n=!1,c=Object(h.a)(e);try{for(c.s();!(t=c.n()).done;){var a,r=t.value,i=Object(h.a)(r);try{for(i.s();!(a=i.n()).done;){var o,l=a.value,u=l.value.split(" "),s=Object(h.a)(u);try{for(s.s();!(o=s.n()).done;)if(o.value===N&&!0===l.isBomb){n=!0;break}}catch(f){s.e(f)}finally{s.f()}if(n)break}}catch(f){i.e(f)}finally{i.f()}if(n)break}}catch(f){c.e(f)}finally{c.f()}return n}(l)&&(m(!0),a(!1))}),[l,a]),Object(c.useEffect)((function(){v&&s((function(e){return e.map((function(e){return e.map((function(e){return e.isBomb?Object(u.a)(Object(u.a)({},e),{},{value:x+" "+N,display:{src:B}}):e}))}))}))}),[v]),Object(c.useEffect)((function(){s(C(t)),m(!1)}),[t,n]);var p=function(e,t,n){s((function(c){return"right"===e?function(e,t,n,c){if(e[t][n].value===x)return e;var a=e[t][n].value===g?k:g,r=a===k?{src:c}:"";return e[t]=Object(j.a)(e[t]),e[t][n]=Object(u.a)(Object(u.a)({},e[t][n]),{},{value:a,display:r}),e}(Object(j.a)(c),t,n,E):M(Object(j.a)(c),t,n)}))};return Object(f.jsx)("div",{className:"grid ".concat(t),children:l.map((function(e,t){return Object(f.jsx)("div",{className:"grid-row","data-testid":"grid-row-element",children:e.map((function(e,n){return Object(f.jsx)(O,{value:e.value,display:e.display,onClick:function(e){return p(e,t,n)}},"cell-".concat(t,"-").concat(n))}))},"grid-row-".concat(t))}))})}n(20);function F(e){return Object(f.jsxs)("div",{className:"overlay".concat(e.active?" active":""),children:[Object(f.jsx)("div",{className:"overlay-render",children:e.render&&e.render()}),Object(f.jsx)("div",{className:"overlay-children",children:e.children})]})}var A=function(){var e=Object(c.useState)(m),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(o.a)(r,2),u=i[0],s=i[1],d=Object(c.useState)({active:!1,render:null}),j=Object(o.a)(d,2),v=j[0],O=j[1],h=Object(c.useMemo)((function(){return function(e){var t=function(e){return function(){return Object(f.jsxs)("div",{children:["You ".concat(e,"!"),Object(f.jsx)("div",{style:{cursor:"pointer"},onClick:g,children:"Reset"})]})}};O(e?{active:!0,render:t("WIN!")}:{active:!0,render:t("Lose")})}}),[]),g=function(){s((function(e){return!e})),O({active:!1,render:null})};return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("header",{className:"App-header",children:[Object(f.jsx)("img",{src:l,className:"App-logo",alt:"logo"}),Object(f.jsx)("p",{children:"Minesweeper"}),Object(f.jsx)("button",{className:"reset-button",onClick:g,children:"Reset"}),Object(f.jsxs)(b,{className:"difficulty-select",name:"difficulty",label:"Difficulty: ",onSelect:function(e){a(e),O({active:!1,render:null})},children:[Object(f.jsx)("option",{value:m,children:"Easy"},"easy"),Object(f.jsx)("option",{value:p,children:"Medium"},"med"),Object(f.jsx)("option",{value:y,children:"Hard"},"hard")]})]}),Object(f.jsx)(F,{active:v.active,render:v.render,children:Object(f.jsx)("div",{className:"App-content",children:Object(f.jsx)(D,{gridDifficulty:n,resetToggle:u,onGameOver:h})})})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(A,{})}),document.getElementById("root")),T()}],[[21,1,2]]]);
//# sourceMappingURL=main.691ac376.chunk.js.map